# 抽象工厂模式(Abstract Factory)

## 定义

> 提供一个创建一系列相关或者相互依赖对象的接口，而无需指定它们的具体类。

关于抽象工厂模式很好理解：通过工厂类创建的不同类别对象之间存在关系，不像简单工厂模式、抽象方法模式创建相同类别的对象。

抽象工厂类中的方法不应该随意定义，而是一系列相关或者相互依赖的方法，比如下文的 CPU 和 主板是为了创建电脑的相关对象。

抽象工厂定义了一个产品簇，切换一个产品簇时只需要提供不同的抽象工厂实现就可以了。


抽象工厂在这里起到一个约定的作用，并为所有的子类提供统一的外观，让客户端统一调用。


## 理解


使用抽象工厂类定义创建一系列产品的接口，而在具体工厂类中实现抽象工厂的方法，创建一系列相同规格的产品。


## 场景

文中给出的例子还是很形象的，组装电脑的 CPU 和 硬板 是需要兼容的，随便一款 CPU 和硬板并不能保证能够正常工作。所以在抽象工厂模式中，
需要定义一个抽象工厂，在里面虚拟的创建客户端需要的 **一系列** 对象，虚拟指为抽象方法，真正的实现交给子类。

1. 首先抽象出存在关系的类别，比如 CPU 和 硬板，根据它们不同的能力抽象出不同的接口或者抽象类 InterfaceCpu、IInterfaceBrand、CPUWith12Pin、CPUWith24Pin、BrandWith12Pin、BrandWith24Pin；
2. 既然需要生产处具体依赖的对象，那么抽象出的工厂类就需要具备生产多个对象的能力；
3. 具备了工厂类和相应的类，那么就可以开始生产产品了--建厂:ProductWith12PinFactory、ProductWith24PinFactory；
4. 通过具体的工厂类生产相应的 CPU 和 硬盘，进行工作；


## 与抽象方法模式、简单工厂模式的不同

可以看到抽象工厂模式与抽象方法模式、简单工厂模式最大的不同是：工厂类生产的为不同类别的实例对象，而且实例对象之间存在一定的联系，
抽象方法模式着重的是将实例化动作延迟到子类，而简单工厂模式只是根据标识创建不同的实例对象，关注点在一个对象。

可以将抽象工厂模式理解为它是生产产品零件的工厂，不同部位但是相同规格的工厂，而其他两种模式的工厂可以理解为生产具体产品的工厂。