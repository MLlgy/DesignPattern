# 工厂方法模式(Factory Method)


## 定义 

定义一个用于创建对象的接口，让子类决定实例化那一个类，使一个类的实例化 **延迟** 到子类。


## 个人理解


首先从该模式的名字可以看出它向简单工厂模式一样，是创建型结构的，意思是可以通过工厂类生产多个实例对象，但是它又不像简单工厂模式一样，
直接在工厂类中进行实例化对象，而是将实例化动作实例化工厂类的实现类中，因为所有的工厂类都有实例化对象这个动作，所以将该方法抽象出来，所以将在工厂方法模式。

结合示例，进行理解：

从一个系统中导出文件，但是文件有多种格式，比如 pdf、txt、doc、markdown 等。

根据需求可以定义导出动作的接口：

```$xslt
interface ExportFile {
    fun export(data: String)
}
```

同时存在以下具体格式的导出类：

```
class MdExportFile:ExportFile{
    override fun export(data: String) {
        println("我将 ${data} 导出为 markdown 格式")
    }
}

class PdfExportFile:ExportFile{
    override fun export(data: String) {
        println("我将 ${data} 导出为 pdf 格式")
    }
}   
```


使用简单工厂模式、工厂方法模式的具体实现请看代码。

工厂方法模式的主要功能是让父类在不知道具体实现的情况下，**能够完成自身的调用**，**将具体的实现延迟到子类**。

其实简单工厂模式和工厂模式十分的相似，不同的是两者的职能不同：

简单工厂模式：只负责创建具体的类；
工厂方法模式：除了创建具体的类外，还要进行相关业务的调用，而相应具体类的创建工作交给 工厂方法，所以称该模式为工厂方法模式。

工厂方法模式的工厂方法的动作可以交给相应的子类，也可以将简单工厂模式集成进来，称为参数化工厂方法，具体参见代码实现。