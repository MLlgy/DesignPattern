# 原型模式(Prototype)


## 定义

用原型实例 **指定** 创建对象的种类，并通过 **拷贝** 这些原型创建新的对象。



## 原型模式的重要结构


* Prototype:声明一个可以克隆自身的接口，用来约束想要克隆自己的类，要求在这里实现克隆方法。
* ConcertePrototype：实现 Prototype 接口的类，这些类真正实现了克隆自身的功能。
* Client：首先获取到原型实例对象，然后 **通过原型实例克隆自身来创建新的对象实例**。

让这个类的实例来复制自己。


## 场景

订单预处理系统：当订单的数量大于 1000 时，把订单拆分为两个订单，直到每个订单数据都小于 1000，订单的种类可以有多种，示例中为分为个人订单和公司订单，具体代码实现：[BeforeMain.kt](./BeforeMain.kt)

但是以上处理方式是不太符合 面向接口 思想，即对于订单数量大于 1000 使对订单的拆分，该过程是对于所有的订单类型的处理方案，那么在 dealOrder 方法中是不需要知道订单的具体类型的，破坏了编程思想。以上问题可以使用原型模式解决。


原型模式会 **要求对象实现一个可以克隆自己的接口**，这样实例对象可以通过克隆创建一个新的实例对象，**所谓的原型即是需要被克隆的实例对象**，提供了克隆自己的接口，
那么通过原型对象创建新的实例，客户端就不需要关心具体的实现

## 原型模式的功能

1. 提供克隆方法，用来创建新的实例对象；
2. 将原型实例的属性值赋值给新的实例对象；

可见原型模式的本质：通过克隆的手段，创建新的实例对象。

